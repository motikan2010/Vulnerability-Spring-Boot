#!/bin/bash
set -ex

function clean {
    rm -rf codeql_work
}

function moveWorkDir {
  mkdir codeql_work
  cd codeql_work/
}

function downloadCodeqlCli() {
  wget https://github.com/github/codeql-cli-binaries/releases/download/v2.3.4/codeql-osx64.zip
  unzip codeql-osx64.zip
  rm -f codeql-osx64.zip
  mv codeql codeql_cli
}

function downloadCodeql() {
  codeql_var="1.26.0"
  wget https://github.com/github/codeql/archive/v${codeql_var}.zip
  unzip v${codeql_var}.zip
  mv codeql-${codeql_var} codeql
}

clean

moveWorkDir

downloadCodeqlCli

downloadCodeql
